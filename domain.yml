version: "3.1"

intents:
  - upload_xmind_file
  - nlu_fallback

actions:
  - action_parse_uploaded_xmind
  - utter_fallback
  - action_parse_uploaded_xmind
slots:
  recipient:
    type: text
    mappings:
      - type: from_llm
  amount:
    type: float
    mappings:
      - type: from_llm

responses:
  utter_ask_upload:
    - text: "📁 请上传 .xmind 文件，我将为你解析成对话路径"

  utter_ask_recipient:
    - text: "Who would you like to send money to?"

  utter_ask_amount:
    - text: "How much money would you like to send?"

  utter_transfer_complete:
    - text: "All done. {amount} has been sent to {recipient}."
  

  utter_free_chitchat_response:
    - text: "placeholder"
      metadata:
        rephrase: True
        rephrase_prompt: |
          The following is a conversation with an AI assistant built with R

  utter_fallback:
    - text: "❓我不太确定你想表达什么，可以尝试重新描述或输入 .xmind 文件链接"
